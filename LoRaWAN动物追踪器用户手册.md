# LoRaWAN动物追踪器用户手册

**HKT-GAT-100**

**LoRaWAN动物追踪器用户手册**

**安全操作准则**

*   为保护产品并确保安全操作，请遵守本使用手册。如果产品使用不当或者不按手册要求使用，本公司概不负责。
    
*   请勿随意拆卸，以及更改内部接线，改装本产品。
    
*   请勿让设备经受强烈冲击和振动。
    
*   请勿将产品放置在不符合工作温度、湿度等条件的环境中使用，远离冷源、热源和明火。
    
*   本产品不可作为计量工具使用。
    
*   请勿将产品电池装反，否则可能导致产品烧坏。
    

**产品符合性声明**

HKT-GAT-100系列符合CE, FCC 和 RoHS 的基本要求和其他相关规定。                

**免责申明和版权公告**

由于产品版本升级或其他原因，本手册内容有可能变更。湖南华宽通科技股份有限公司保留在没有任何通知或者提示的情况下对本手册的内容进行修改的权利。本手册仅作为使用指导，湖南华宽通科技股份有限公司尽全力在本手册中提供准确的信息，但是湖南华宽通科技股份有限公司并不确保手册内容完全没有错误，本手册中的所有陈述、信息和建议也不构成任何明示或暗示的担保。

本手册中描述的产品，可能包含湖南华宽通科技股份有限公司及其存在的许可人享有版权的软件，除非获得相关权利人的许可，否则，非经本公司书面同意，任何单位和个人不得擅自摘抄、复制本手册内容的部分或全部，并以任何形式传播。

**版权所有© 2011-2023湖南华宽通科技股份有限公司保留所有权利**

**联系我们:**

邮箱: sales3@hktchn.com

电话: 86-400-0086-766

地址：湖南省长沙高新开发区青山路10号

网址：[http://www.hkttech.cn/](http://www.hkttech.cn/)

**文档修订记录**

| **日期** | **版本** | **描述** |
| --- | --- | --- |
| 2023.3.3 | V 1.0 | 第一版 |

**目录**

[一、 产品简介](#_Toc18357 ) 

[1.1 产品介绍](#_Toc6301 ) 

[1.2 产品亮点](#_Toc26080 ) 

[二、 产品结构介绍](#_Toc10454 ) 

[2.1 包装清单](#_Toc24484 ) 

[2.2 外观概览](#_Toc25194 ) 

[2.3 产品尺寸](#_Toc15722 ) 

[2.4 LED指示灯](#_Toc32660 ) 

[三、 功能描述](#_Toc3782 ) 

[3.1 工作模式](#_Toc12939 ) 

[3.2 其它](#_Toc7133 ) 

[四、 性能参数](#_Toc18420 ) 

[五、 数据通信协议](#_Toc14287 ) 

[5.1通讯协议数据结构](#_Toc8990 ) 

[5.2通讯协议解析](#_Toc20813 ) 

[5.3数据类型表](#_Toc29591 ) 

[5.4示例](#_Toc20132 ) 

1.  **产品简介**
    

**1.1 产品介绍**

# HKT-GAT-100动物追踪器由湖南华宽通科技股份有限公司自主研发设计，拥有一个加速度计、一个温湿度传感器和一个GPS模块组成，加速度计用于感知畜牧的运动状态与部分行为，如生病、睡觉、准备繁殖，进食、睡觉、反刍 行为、发情、产犊、移动等；温湿度传感器用于给畜牧监测体温、体征状态等；GPS模块用于实时定位动物位置；同时设备还拥有防拆功能监测，支持监测已安装好的设备是否处于出现脱落或被拆除状态；通过不同传感器的组合来分析动物的行为状态分析，并上报给用户终端，可节省人工分析成本，给养殖户节省时间，节省金钱，并具有低功耗，待机时间长， 通讯距离远，定位精度高等特点，可广泛应用于牛、羊、马驼、畜牧业养殖，为科学养殖做好基础。通过预设的数据上报周期，利用无线 LoRaWAN®和蓝牙通信技术分别实现远程数据传输和近距离数据传输。 

# 产品基于标准LoRaWAN®物联网协议，采用低功耗设计，内置38000毫安时锂亚电池，可连续使用3年以上无需更换电池。产品兼容多种平台，支持云平台和APP远程实时监控。

# HKT-GAT-100体积小巧，无需线缆，安装简易，适用于不同畜牧的佩戴，可广泛应用于牛羊等大范围畜牧场景，实现远程科学养殖。

**1.2 产品亮点**

*   简易安装：使用项圈方式佩戴，并可使用卡扣方式灵活调整松紧度
    
*   防拆报警：专业防拆设计，实现拆卸自动发出告警信息
    
*   通信距离远：空旷环境下最大通信距离可达3km
    
*   超长待机：功耗低，内置38000毫安可更换锂亚电池，可连续使用3年以上
    
*   LED指示：通过指示灯分辨工作模式、配置状态等多场景状态变化
    
*   兼容性好：兼容标准LoRaWAN®网关与第三方网络服务器平台，支持自组网
    
*   管理一体化：快速对接华宽通 LoRaWAN®网关和云平台，无需额外配置
    
*   立体外观：外壳采用立体结构设计，棱角分明，体积小巧
    
*   尺寸合适：150 mm × 49.3 mm × 52.6 mm
    
*   多传感器综合监测: 集成加速度计、温湿度传感器及GPS，完成对动物的精确监控
    
*   定位精度高：设备支持GPS+BD/GLONA方案，定位精度可达到5M以内
    

2.  **产品结构介绍**
    

**2.1 包装清单**

| 1 × HKT-GAT100 | 1 × 合格证 |
| --- | --- |

**如果上述物品存在损坏或遗失的情况，请及时联系您的代理或销售代表**

**2.2 外观概览**

**2.3 产品尺寸**

**2.4 LED指示灯**

| **功能** | **操作** | **LED 灯状态** |
| --- | --- | --- |
| 开机状态指示 | 短按电源键 | 绿色灯亮一秒 |
| 关机状态指示 | 短按电源键 | 红色灯亮一秒 |

**2.5 蜂鸣器**

| **功能** | **操作** | **蜂鸣器状态** |
| --- | --- | --- |
| 开机指示 | 在关机状态下长按电源键 | 蜂鸣器1声短鸣 |
| 关机指示 | 在开机状态下长按电源键 | 蜂鸣器1声长鸣 |
| 入网提示 | 设备自行入网成功 | 蜂鸣器3声短鸣 |
| 恢复出厂设置 | 在开机状态下连续按下电源键7次 | 蜂鸣器2声短鸣 |

3.  **功能描述**
    

# 3.1 设备开关机

设备支持通过电源键开关机设备，并通过LED灯与蜂鸣器指示当前设备工作状态，通过开关机可灵活适用于当前实际场景，在不需要使用时进行关机，可节省设备工作功耗，提高设备使用时长；

# 3.2 计步功能

设备支持计步功能，可通过内置的加速度计计算出牛的运动量/步数，并上报到平台，关机状态下不进行计步；

# 3.3 温湿度监测

设备拥有一颗高精度的温湿度传感器，支持采集当前环境中的温湿度状态，并将信息上报到平台，用于养殖户评估当前环境状态和动物特征；

# 3.4 GPS定位

设备拥有一颗高精度GPS定位器，设备支持GPS+BD/GLONA定位方案，且定位精度可达到5M以内；

# 3.5 其它

*   **数据上报周期**
    
    *   设备默认每隔 30 分钟上报一次 GPS 定位信息，并包含 30 分钟牛的运动量/步数、温湿度数据、电量信息和 GPS 信息，当未获取到 GPS 定位信息时或步数信息时，数据上报内容信息默认为0；
        
*   **电量检测**
    
    *   设备每经过一个睡眠周期，检测一次电量信息，若设备电量低，则发送电量低报警信息到平台；
        
*   **按键与蜂鸣器**
    
    *   开机：设备关机状态下，长按按键 3 秒开机，开机成功后蜂鸣器发出一声短鸣；开机状态下短按按键，LED 亮绿灯；
        
    *   关机：设备开机状态下，长按按键 3 秒关机，关机成功后蜂鸣器发出一声长鸣；关机状态下短按按键，LED 亮红灯；
        
    *   入网成功：设备入网成功后蜂鸣器发出三声短鸣;
        
    *   复位：设备开机状态下，10 秒内连续短按按键 7 次，复位设备为出厂设置，红色和绿色 LED 均亮起 3 秒，蜂鸣器发出两声短鸣;
        
*   **工作频段**
    
    *   设备支持LoRa国内外多频段无线通信能力，下列为设备支持工作频段
        

CN470\IN865\EU868\US915\AU915\AS923（如需定制频段请联系供应商）。

*   **防掉线机制**
    
    *   设备将根据上报间隔检测数据包是否成功送到，发送失败达到一定数量后将重新入网。
        

4.  **性能参数**
    

| **主要指标** | **参数** | **备注** |
| --- | --- | --- |
| 电池使用寿命 | \>3年 | 48次数据上报/天 |
| 电池欠压报警 | 平台报警 |  |
| 工作电流 | <1.3mA | 关机状态下<5uA |
| 供电电压 | 3.6V | 两节19000毫安ER34615锂亚电池<br>可按需求定制 |
| 通信距离 | 最大可达5千米 |  |
| 工作温度 | \-20°C ~60°C |  |
| 工作湿度 | ≤90%（无凝结） |  |
| 尺寸 | 150\*49\*53 mm |  |
| 配置方式 | 服务器或串口 | 可出厂时定制 |
| 上报周期（固定时间） | 1到1440分钟，默认30分钟 | 可以通过平台配置 |
| 终端入网方式 | OTAA/ABP Class A |  |
| LoRaWAN端口 | 默认10（1-233） |  |
| LoRaWAN频段 | 默认EU868 | 可选CN470\IN865\US915\AU915\AS923 |
| 设备EUI | LoRaWAN^®^设备的唯一识别标识符，可在产品标签上查看 |  |
| App EUI | 设备的App EUI，默认值为083FBC0065000001 |  |
| 应用程序密钥 | OTAA入网使用的应用程序密钥（App Key）<br>默认值为2D35C7963275D743B4E73BEA91681A3B |  |

**注意：**

1.  如采购大量设备，可联系湖南华宽通获取设备EUI等参数表格。
    
2.  如需随机App Key请在购买前联系湖南华宽通。
    
3.  如使用云管理HKT-GAT-100系列设备，请使用OTAA入网。
    
4.  发送数据使用的LoRa频段，一般必须和LoRaWAN®网关使用的频段匹配。
    

5.  **数据通信协议**
    

# 5.1通讯协议数据结构 

所有数据均以HEX格式表示

| **同步头**<br>**3 bytes** | **特殊类型**<br>**1bytes** | **包序号**<br>**1 bytes** | **数据类型**<br>**1bytes** | **数据**<br>**n bytes** | **N个（数据类型+数据）**<br>**1+n+1+n+...** |
| --- | --- | --- | --- | --- | --- |

# 5.2通讯协议解析

| **协议字段名** | **说明** |
| --- | --- |
| **同步头** | 同步头为固定3 bytes长度数据（0x68 0x6B 0x74），取自"hkt"。 |
| **特殊类型** | 特殊类型为固定1 bytes长度数据，且以BIT位方式代表所特定功能；<br>BIT0: 用来告知设备或服务器是否需要应答或确认包（0：无需应答 1：需要应答）；<br>BIT1~BT17: 功能待定。 |
| **包序号** | 包序号为固定1 bytes长度数据，用于标识包序号。 |
| **数据类型** | 数据类型为固定1 bytes长度数据，主要用来标识设备的不同功能类型数据。 |
| **数据** | 数据为n bytes变长数据，根据不同的数据类型确认数据内容的长度。 |

# 5.3数据类型表

| **数据类型** | **功能** | **备注** |
| --- | --- | --- |
| 0x01 | 设备软硬件版本 | 数据长度固定2 bytes长度，重新上电自动上行同步，仅支持上行<br>前1 bytes代表硬件版本，后1 bytes代表软件版本<br>示例：<br>同步硬件版本1，软件版本5 ：68 6B 74 00 01 01 01 05 |
| 0x03 | 设备电量信息 | 数据长度固定1 bytes长度，以电量百分比上传，仅支持上行<br>示例：<br>同步电量信息：68 6B 74 00 03 03 64（电量100%） |
| 0x09 | 温度 | 数据长度固定3 bytes长度，仅支持上行<br>单位：摄氏度，数据放大1000倍上传<br>当数据为负值时，最高位为1<br>示例：<br>上传温度：25.23摄氏度：68 6B 74 00 01 09 00 62 8E<br>上传温度：-25.23摄氏度：68 6B 74 00 01 09 80 62 8E |
| 0x0A | 湿度 | 数据长度固定3 bytes长度，仅支持上行<br>单位：%RH，数据放大1000倍上传<br>示例：<br>上传湿度：45.5%RH：68 6B 74 00 01 0A 00 B1 BC |
| 0x10 | 纬度(GPS) | 数据长度固定4 bytes长度，仅支持上行<br>当数据为负值时，最高位为1<br>示例：<br>纬度数据（1）：22585284 =22585284/1000000 =22.585284<br>上报示例：68 6B 74 00 01 10 01 58 9F C4<br>纬度数据（2）：-22585284 = -22585284/1000000 = -22.585284<br>上报示例：68 6B 74 00 01 10 81 58 9F C4 |
| 0x11 | 经度(GPS) | 数据长度固定4 bytes长度，仅支持上行<br>当数据为负值时，最高位为1<br>示例：<br>经度数据（1）：113913166 = 113913166/1000000 = 113.913166<br>上报示例：68 6B 74 00 01 11 06 CA 2D 4E<br>经度数据（1）：-113913166 = -113913166/1000000 = -113.913166<br>上报示例：68 6B 74 00 01 11 86 CA 2D 4E |
| 0x15 | 步数 | 数据长度固定2 bytes长度，仅支持上行<br>上报后本地累计步数数据清零（仅记录上一次上报后到下次上报累计的运动步数）<br>示例：<br>上报步数100：68 6B 74 00 01 15 00 64 |
| 0x84 | 防拆状态 | 数据长度固定1 bytes长度，仅支持上行<br>0 = 设备已安装<br>1 = 设备未安装<br>示例：<br>设备已安装：68 6B 74 00 09 84 00 |
| 0x39 | 工作模式配置 | 数据长度固定15bytes长度，支持上下行（当配置参数不在有效范围内时，整条指令都将无效）<br>data\[0\]:工作模式 0固定周期上报模式 1分段式周期上报模式<br>时间段1配置（工作模式0下无效）<br>data\[1-2\]: 上报周期（取值范围1-1440分钟）<br>data\[3-4\]: 开始时间（hh:mm）<br>data\[5-6\]: 结束时间（hh:mm）<br>时间段2配置（工作模式0下无效）<br>data\[7-8\]: 上报周期（取值范围1-1440分钟）<br>data\[9-10\]: 开始时间（hh:mm）<br>data\[11-12\]: 结束时间（hh:mm）<br>空闲时间段上报周期（时间段1和2以外的时间段）/固定时间段上报周期<br>data\[13-14\]: 上报周期（取值范围10-1440或0 分钟，当配置为0时，设备不主动同步数据）<br>示例：<br>1、用户切换设备工作模式为模式二，时间段1（7：00-8：00）上报周期设置为30分钟，时间段2（9：00-12：00）上报周期设置为2小时，空闲时间（不处于时间段1和2之内的时间）段设置上报周期为8小时<br>68 6B 74 00 01 39 01 00 1E 07 00 08 00 00 78 09 00 0C 00 01 E0<br>2、用户切换设备工作模式为模式一，固定上报周期设置为1小时<br>68 6B 74 00 01 39 00 00 00 00 00 00 00 00 00 00 00 00 00 00 3C |

# 5.4示例

设备上电或重新入网上报数据

| 686B7400550104010363 |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| **同步头** | **特殊类型** | **包序号** | **数据类型** | **数据** | **数据类型** | **数据** |
| 68 6B 74<br>（同步头） | 00<br>（无需确认包） | 55 | 01 | 04 01<br>（硬件版本4软件版本1） | 03 | 63<br>（99%电量） |

**注意：**

1.  设备信息在入网或重启时上报一次；
    
2.  数据解析器示例可参考：“gat-100.js”.
    

[https://github.com/HKT-SmartHard/decode/tree/main](https://github.com/HKT-SmartHard/decode/tree/main).